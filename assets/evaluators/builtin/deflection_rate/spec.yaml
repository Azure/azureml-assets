type: "evaluator"
name: "builtin.deflection_rate"
version: 1
displayName: "Deflection-Rate-Evaluator"
description: "Evaluates whether an AI agent successfully resolved a user's query without requiring human intervention (deflection). A deflection occurs when the AI indicates the topic is out of scope, suggests seeking help elsewhere, or fails to provide a direct answer. This evaluator is useful for measuring chatbot effectiveness, customer support automation rates, and self-service success in support scenarios."
evaluatorType: "builtin"
evaluatorSubType: "code"
categories: ["quality", "agents"]
tags:
  provider: "Microsoft"
initParameterSchema:
  type: "object"
  properties:
    deployment_name:
      type: "string"
    threshold:
      type: "number"
      minimum: 0
      maximum: 1
      multipleOf: 1
  required: ["deployment_name"]
dataMappingSchema:
  type: "object"
  properties:
    response:
      anyOf:
        - type: "string"
        - type: "array"
          items:
            type: "object"
  required: ["response"]
outputSchema:
  deflection_rate:
    type: "boolean"
    desirable_direction: "decrease"
    min_value: 0
    max_value: 1
path: ./evaluator
