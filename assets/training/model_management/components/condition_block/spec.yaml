$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json

name: model_framework_selector
display_name: Model Framework Selector
description: Component takes a condition and executes the command based on the condition.
version: 0.0.1.20.test
type: command

is_deterministic: True

inputs:
  # pipeline specific compute
  compute:
    type: string
    optional: true
    default: serverless
    description: Common compute for model download, MLflow conversion and registration. eg. provide 'FT-Cluster' if
      your compute is named 'FT-Cluster'. Special characters like \ and ' are invalid in the parameter value.
      If compute name is provided, instance_type field will be ignored and the respective cluster will be used

  instance_type:
    type: string
    optional: true
    default: Standard_DS12_v2
    description: Instance type to be used for the component in case of serverless compute, eg. STANDARD_NC6s_v3. 
      The parameter compute must be set to 'serverless' for instance_type to be used

  model_framework:
    type: string
    enum:
      - Huggingface
      - MMLab
      - llava
      - AutoML
    default: Huggingface
    optional: false
    description: Framework from which model is imported from.

  validation_info:
    type: uri_file
    description: Path to the validation info file
    optional: true

# Pipeline outputs
outputs:
  output:
    type: boolean
    is_control: true

environment: azureml:model-management-mmd-1:1

code: ../../src
command: >  
  mldesigner execute --source run_model_framework_selector.py --name validate --inputs model_framework="${{inputs.model_framework}}" --outputs output="${{outputs.output}}"


tags:
    Preview: ""
    Internal: ""
