$schema: http://azureml/sdk-2-0/SparkComponent.json
type: command

name: data_quality_metrics_joiner_command
display_name: Data Quality - Metrics Joiner
description: Join baseline and target data quality metrics into a single output.
version: 0.0.2
is_deterministic: true

code: ../../src/
environment: azureml:model_monitor_spark_standalone:2

inputs:
  baseline_metrics:
    type: mltable
  target_metrics:
    type: mltable
  categorical_threshold:
    type: number
  numerical_threshold:
    type: number
outputs:
  signal_metrics:
    type: mltable

command: >-
  python -m data_quality_metrics_joiner.run
  --baseline_metrics ${{inputs.baseline_metrics}}
  --target_metrics ${{inputs.target_metrics}}
  --numerical_threshold ${{inputs.numerical_threshold}}
  --categorical_threshold ${{inputs.categorical_threshold}}
  --signal_metrics ${{outputs.signal_metrics}}
