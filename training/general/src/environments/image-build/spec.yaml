$schema: https://azuremlschemas.azureedge.net/latest/environment.schema.json

description: >-
  An environment used to build images for build on compute scenarios.

name: "{{asset.name}}"
display_name: "{{asset.name}}"
version: "{{asset.version}}"

build:
  path: "{{asset.repo.url}}#{{asset.repo.commit_hash}}:{{asset.repo.build_context.path}}"
  dockerfile_path: "{{image.dockerfile.path}}"

os_type: linux

properties:
  azureml.imagename: "{{image.publish.hostname}}/{{image.name}}:{{asset.version}}"
